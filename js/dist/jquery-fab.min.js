/*
 * Copyright 2015
 * Released under the MIT license
 * https://github.com/jeffersonrpn/jquery-fab/blob/master/LICENSE.md
 *
 * @author: Jefferson Neves <jefferson.rpn@gmail.com>
 * @version: 0.1.0
 */
!function(t){t.jfab||(t.jfab=new Object),t.jfab.fab=function(n,a,i){var l,o,e=this;e.$el=t(n),e.el=n,e.$el.data("kc.fab",e),e.$el.addClass("jfab_wrapper");var r=function(){t(this).attr("data-link-href").length>0&&(t(this).attr("data-link-target")?window.open(t(this).attr("data-link-href"),t(this).attr("data-link-target")):window.location.href=t(this).attr("data-link-href")),o.animate({opacity:"toggle",height:"toggle"},200),i.rotate&&l.toggleClass("rotate")},s=function(){o.animate({opacity:"hide",height:"hide"},100),i.rotate&&l.removeClass("rotate")};e.init=function(){if(("undefined"==typeof a||null===a)&&(a=[{url:null,bgcolor:"#e74c3c",icon:"+"}]),("undefined"==typeof i||null===i)&&(i={rotate:!1}),e.options=t.extend({},t.jfab.fab.defaultOptions,i),e.links=a,e.links.length>0){mainBtnLink=e.links[0],colorStyle=mainBtnLink.color?"color:"+mainBtnLink.color+";":"",bgColorStyle=mainBtnLink.bgcolor?"background-color:"+mainBtnLink.bgcolor+";":"",mainBtnLinkHtml="<button data-link-href='"+(mainBtnLink.url?mainBtnLink.url:"")+"' data-link-target='"+(mainBtnLink.target?mainBtnLink.target:"")+"'' class='jfab_main_btn' style='"+bgColorStyle+"'><span style='"+colorStyle+"'>"+mainBtnLink.icon+"</span></button>",subBtnsHtml="",e.links.shift();for(var n=0;n<e.links.length;n++)colorStyle=e.links[n].color?"color:"+e.links[n].color+";":"",bgColorStyle=e.links[n].bgcolor?"background-color:"+e.links[n].bgcolor+";":"",subBtnsHtml+="<div><button data-link-href='"+(e.links[n].url?e.links[n].url:"")+"' data-link-target='"+(e.links[n].target?e.links[n].target:"")+"' class='sub_fab_btn' style='"+bgColorStyle+"'><span style='"+colorStyle+"'>"+e.links[n].icon+"</span></button></div>";subBtnsHtml="<div class='jfab_btns_wrapper'>"+subBtnsHtml+"</div>",e.$el.append(subBtnsHtml).append(mainBtnLinkHtml)}else"undefined"==typeof console&&(window.console={log:function(t){alert(t)}}),console.log("Invalid links array param");l=e.$el.find(".jfab_main_btn"),o=e.$el.find(".jfab_btns_wrapper"),l.click(r),l.focusout(s),o.find(".sub_fab_btn").on("mousedown",function(){t(this).attr("data-link-href").length>0&&(t(this).attr("data-link-target")?window.open(t(this).attr("data-link-href"),t(this).attr("data-link-target")):window.location.href=t(this).attr("data-link-href"))})},e.init()},t.jfab.fab.defaultOptions={},t.fn.jqueryFab=function(n,a){return this.each(function(){new t.jfab.fab(this,n,a)})}}(jQuery);